<!DOCTYPE html>
<html lang="zxx" class="js"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="author" content="Softnio">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    
    <link rel="shortcut icon" href="/images/favicon.png">
    
    <title>TeamFence</title>
    
    
    
    
    
    
    <link rel="stylesheet" href='/css/vendor.bundle.min.css?ver=210'>
    <link rel="stylesheet" href='/css/style-lungwort.min.css?ver=210'>
    
    <link rel="stylesheet" href='/css/theme.min.css?ver=210'>
    <link rel="stylesheet" href='/css/custom.min.css?ver=210'>
</head>
<body class="nk-body body-wider theme-light mode-onepage"> 
<div class="nk-wrap">
    <header class="nk-header page-header is-transparent is-sticky is-shrink is-dark" id="header"> 
        <div class="header-main">
    <div class="header-container container">
        <div class="header-wrap">
            
            <div class="header-logo logo animated" data-animate="fadeInDown" data-delay=".65">
                <a href="/" class="logo-link">
                    <img class="logo-dark" src="/images/logo.png" srcset="/images/logo.png" alt="logo">
                    <img class="logo-light" src="/images/logo-white.png" srcset="/images/logo-white.png" alt="logo">
                </a>
            </div>
            
            <div class="header-nav-toggle">
                <a href="/" class="navbar-toggle" data-menu-toggle="example-menu-04">
                    <div class="toggle-line">
                        <span></span>
                    </div>
                </a>
            </div>
            
            <div class="header-navbar header-navbar-s1">
                <nav class="header-menu" id="example-menu-04">
                    <ul class="menu menu-s2 animated" data-animate="fadeInDown" data-delay=".75">
                        
                        <li class="menu-item">
                            <a class="menu-link nav-link" href="/fr/">Accueil</a>
                        </li>
                        
                        <li class="menu-item">
                            <a class="menu-link nav-link" href="/fr/#services">Services</a>
                        </li>
                        
                        <li class="menu-item">
                            <a class="menu-link nav-link" href="/fr/#about">Entreprise</a>
                        </li>
                        
                        <li class="menu-item">
                            <a class="menu-link nav-link" href="/fr/posts">Blog</a>
                        </li>
                        
                        <li class="menu-item">
                            <a class="menu-link nav-link" href="/fr/about/">À propos</a>
                        </li>
                        
                    </ul>
                    <ul class="menu-btns animated" data-animate="fadeInDown" data-delay=".85">
                        
                        <li><a href="#contact" class="btn btn-rg btn-auto btn-outline btn-grad on-bg-theme btn-round">
                            <span>Contactez-nous</span></a>
                        </li>
                        
                        <li class="menu-item">
                            <div class="language-switcher language-switcher-s3 toggle-wrap">
                                <a class="toggle-tigger" href="#">Français</a>
                                <ul class="toggle-class toggle-drop text-center drop-list drop-list-xs">
                                    
                                    <li><a href="http://localhost:1313/posts/lsass-extractor/">en</a></li>
                                    
                                    <li><a href="http://localhost:1313/de/posts/lsass-extractor/">de</a></li>
                                    
                                    <li><a href="http://localhost:1313/it/posts/lsass-extractor/">it</a></li>
                                    
                                    <li><a href="http://localhost:1313/es/posts/lsass-extractor/">es</a></li>
                                    
                                </ul>
                            </div>
                            
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>

        <div class="header-banner bg-purple"> 
            <div class="nk-ovm shape-a-sm"></div>
        </div>
        
    </header>
    <main class="nk-pages">
        <section class="section bg-light">
            <div class="container" style="margin-top: -50px">
                <div class="nk-block nk-block-blog">
                    <div class="row">
                        <div class="col-12">
                            <div class="blog-details">
                                <div class="row justify-content-center">
                                    <div class="col-xl-8 col-lg-10">
                                        <ul class="blog-meta">
                                            <li><a href="#">September 16, 2023</a></li>
                                            <li><a href="#">8  minutes  read</a></li>
                                        </ul>
                                        <div class="blog-content">
                                            <h2 class="title"><a href="#">Extracteur de Lsass</a></h2>
                                            <div class="col-xl-10 col-lg-12">
                                                <div class="blog-featured">
                                                    <div class="img-wrapper-single">
                                                        <div class="box box1" id="img-container">
                                                            <img class="round post-image" src="/posts/lsass-extractor/static/cover.png" alt="featured">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div> 
                                                <h2 id="introduction">Introduction</h2>
<p>Chez TeamFence, nous croyons fermement qu&rsquo;il est de plus en plus important pour un opérateur offensif de comprendre les détails derrière les techniques et les outils.</p>
<p>Pour cette raison, dans cet article de blog, nous allons examiner comment Mimikatz extrait les identifiants à partir de dumps de lsass, ce qui nous permettra de réimplémenter la logique dans un outil adapté à nos besoins futurs.</p>
<p><strong>Remarque</strong> : toutes les analyses effectuées au cours de ce projet ont été réalisées sur une station de travail Windows 11 Enterprise Evaluation.</p>
<h2 id="pourquoi-lsass-">Pourquoi LSASS ?</h2>
<p>Avant d&rsquo;entrer dans les détails techniques, il est important de se demander : pourquoi faisons-nous cela ?</p>
<p>Lorsqu&rsquo;un hacker accède à une machine cible exécutant Windows, l&rsquo;une des étapes cruciales consiste à obtenir les identifiants. Windows offre plusieurs cibles potentielles, mais deux dépôts principaux se distinguent : la base de données de sécurité locale (Security Account Manager) et le processus LSASS (Local Security Authority Subsystem Service).</p>
<p>Dans cet article, nous allons travailler sur LSASS, qui joue un rôle central dans Windows en supervisant l&rsquo;authentification. En tant que plaque tournante des demandes d&rsquo;authentification provenant de divers services, il joue un rôle clé dans la rationalisation du flux d&rsquo;authentification. Ce processus implémente divers packages d&rsquo;authentification tels que NTLM, Kerberos, WDigest, entre autres. Par conséquent, il représente une cible précieuse et riche en informations pour les hackers.</p>
<h2 id="hashs-ntlm">Hashs NTLM</h2>
<p>Comme nous l&rsquo;avons vu dans la section précédente, LSASS gère plusieurs packages d&rsquo;authentification, y compris NTLM. NTLM est un protocole d&rsquo;authentification challenge-response largement utilisé dans les environnements Windows. Lorsqu&rsquo;un utilisateur se connecte à une machine Windows, le système stocke les identifiants de l&rsquo;utilisateur en mémoire. Ces informations incluent le mot de passe de l&rsquo;utilisateur sous forme de hash NTLM.</p>
<p>Dans cet article, nous nous concentrerons sur l&rsquo;extraction de ces hashs NTLM à partir du processus LSASS, ce qui nous permettra de comprendre plus facilement la logique sous-jacente.</p>
<p>Dans l&rsquo;image suivante, nous pouvons voir la structure interne de LSASS, mettant en évidence l&rsquo;endroit où les hashs NTLM sont stockés.</p>
<p><img alt="lsass" src="/posts/lsass-extractor/static/lsass-structure.png"></p>
<h2 id="où-sont-toutes-les-pièces-">Où sont toutes les pièces ?</h2>
<p>Pour commencer, il est crucial de comprendre où sont stockées les informations et sous quel format. Le processus LSASS est un composant critique, et toutes les informations ne sont pas stockées en texte clair. Dans ce cas, les hashs NTLM sont cryptés. Donc, pour les extraire, nous devons localiser les clés de décryptage. Le schéma suivant illustre les modules impliqués dans la gestion des clés et des identifiants.</p>
<!-- raw HTML omitted -->
<p>Il est important de se rappeler que le matériel cryptographique du processus LSASS est une donnée d&rsquo;exécution, ce qui signifie qu&rsquo;il change après chaque redémarrage. Par conséquent, nous devons l&rsquo;extraire à chaque fois pour garantir des informations à jour.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>&#34;Il est intéressant de noter que la gestion du cryptage est effectuée via LsaProtectMemory, qui est un wrapper pour LsaEncryptMemory, qui à son tour est un wrapper pour BCryptEncrypt, une fonction de cryptage courante présente dans bcrypt.h&#34;
</span></span></code></pre></div><h2 id="modèles-de-modules">Modèles de modules</h2>
<p>À ce stade, nous avons une compréhension claire de la zone de la mémoire où toutes les pièces sont stockées. Maintenant, nous devons trouver un moyen de les extraire. En analysant le code de PyPyKatz, une version Python de Mimikatz, nous pouvons comprendre l&rsquo;approche utilisée pour extraire les clés et les identifiants.</p>
<p>Tout d&rsquo;abord, nous devons extraire certaines informations sur le système : ProcessorArchitecture, BuildNumber, et à partir du &ldquo;ModuleListStream&rdquo; le TimeDateStamp de &ldquo;lsasrv.dll&rdquo;.</p>
<p>Une fois que nous avons ces informations, nous pouvons les utiliser pour identifier le modèle correct à utiliser pour l&rsquo;extraction. Les modèles sont des classes qui contiennent la signature et les décalages qui nous permettent de savoir comment nous déplacer dans la mémoire pour extraire les clés et les identifiants.</p>
<p>Dans notre cas, qui est un Windows 11 Enterprise Evaluation, le modèle pour la partie lsasrv.dll est le suivant :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LSA_x64_6</span>(LsaTemplate_NT6):
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>		LsaTemplate_NT6<span style="color:#f92672">.</span>__init__(self)
</span></span><span style="display:flex;"><span>		self<span style="color:#f92672">.</span>key_pattern <span style="color:#f92672">=</span> LSADecyptorKeyPattern()
</span></span><span style="display:flex;"><span>		self<span style="color:#f92672">.</span>key_pattern<span style="color:#f92672">.</span>signature <span style="color:#f92672">=</span> <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\x83\x64\x24\x30\x00\x48\x8d\x45\xe0\x44\x8b\x4d\xd8\x48\x8d\x15</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>		self<span style="color:#f92672">.</span>key_pattern<span style="color:#f92672">.</span>IV_length <span style="color:#f92672">=</span> <span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>		self<span style="color:#f92672">.</span>key_pattern<span style="color:#f92672">.</span>offset_to_IV_ptr <span style="color:#f92672">=</span> <span style="color:#ae81ff">67</span>
</span></span><span style="display:flex;"><span>		self<span style="color:#f92672">.</span>key_pattern<span style="color:#f92672">.</span>offset_to_DES_key_ptr <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">89</span>
</span></span><span style="display:flex;"><span>		self<span style="color:#f92672">.</span>key_pattern<span style="color:#f92672">.</span>offset_to_AES_key_ptr <span style="color:#f92672">=</span> <span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>		self<span style="color:#f92672">.</span>key_struct <span style="color:#f92672">=</span> KIWI_BCRYPT_KEY81
</span></span><span style="display:flex;"><span>		self<span style="color:#f92672">.</span>key_handle_struct <span style="color:#f92672">=</span> KIWI_BCRYPT_HANDLE_KEY
</span></span></code></pre></div><p>Jetez un œil au <a href="https://github.com/skelsec/pypykatz/blob/c91dcdc09289ad2e93c475e7c640d0f90906a7c0/pypykatz/lsadecryptor/lsa_template_nt6.py#L301">code source</a> de PyPyKatz pour voir tous les modèles.</p>
<h2 id="extraction-du-vecteur-dinitialisation">Extraction du vecteur d&rsquo;initialisation</h2>
<p>Pour extraire les clés, nous devons d&rsquo;abord extraire le vecteur d&rsquo;initialisation (IV). L&rsquo;IV est un nombre aléatoire utilisé pour garantir que le même message en texte clair ne donne pas lieu au même texte chiffré. L&rsquo;IV est stocké en mémoire, et nous pouvons l&rsquo;extraire en cherchant dans la mémoire du module lsasrv.dll le motif présent dans le modèle.</p>
<p>Une fois que nous avons l&rsquo;emplacement du motif, nous pouvons utiliser les décalages pour nous déplacer dans la mémoire et extraire l&rsquo;IV.</p>
<!-- raw HTML omitted -->
<p>Comme nous pouvons le voir sur le schéma, une fois que nous avons l&rsquo;emplacement du motif, nous devons sauter un décalage prédéfini (présent dans le modèle) de 67 octets pour trouver une autre valeur, qui est un autre décalage. Ce décalage est l&rsquo;emplacement de l&rsquo;IV.</p>
<h2 id="extraction-des-clés">Extraction des clés</h2>
<p>Il est maintenant temps d&rsquo;extraire les clés. L&rsquo;approche est similaire à celle utilisée pour extraire l&rsquo;IV. Nous devons trouver le même motif dans la mémoire, puis utiliser les décalages pour extraire les clés.</p>
<!-- raw HTML omitted -->
<p>Cette fois, l&rsquo;utilisation du pointeur ne conduit pas directement à la valeur souhaitée, mais plutôt à une structure BCRYPT_KEY_HANDLE, qui, dans bcrypt.h, est un type de données qui permet de référencer et de manipuler des clés cryptographiques dans le cadre CNG. Dans pypykatz, la classe KIWI_BCRYPT_HANDLE_KEY réplique ce type.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">KIWI_BCRYPT_HANDLE_KEY</span> :
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__ ( self , reader ) :
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>size <span style="color:#f92672">=</span> ULONG( reader )<span style="color:#f92672">.</span>value
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>tag <span style="color:#f92672">=</span> reader<span style="color:#f92672">.</span>read(<span style="color:#ae81ff">4</span>) <span style="color:#75715e">#&#39;UUUR&#39;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>hAlgorithm <span style="color:#f92672">=</span> PVOID(reader)<span style="color:#f92672">.</span>value
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>ptr_key <span style="color:#f92672">=</span> PKIWI_BCRYPT_KEY(reader)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>unk0 <span style="color:#f92672">=</span> PVOID (reader)<span style="color:#f92672">.</span>value
</span></span><span style="display:flex;"><span>[<span style="color:#f92672">...</span>]
</span></span></code></pre></div><p>À ce stade, nous avons toutes les informations nécessaires pour décrypter les hashs NTLM. Nous avons l&rsquo;IV et les clés. Nous pouvons maintenant commencer la recherche des LogonSessions.</p>
<h2 id="logonsessions">LogonSessions</h2>
<p>Les LogonSessions sont les structures qui contiennent les informations sur les utilisateurs connectés au système. Les LogonSessions sont stockées en mémoire dans le module Msv1_0.dll, et nous pouvons les extraire en recherchant le motif présent dans le modèle spécifique, qui dans notre cas est le suivant :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> WindowsBuild<span style="color:#f92672">.</span>WIN_11_2022<span style="color:#f92672">.</span>value <span style="color:#f92672">&lt;=</span> sysinfo<span style="color:#f92672">.</span>buildnumber <span style="color:#f92672">&lt;</span> WindowsBuild<span style="color:#f92672">.</span>WIN_11_2023<span style="color:#f92672">.</span>value: <span style="color:#75715e">#20348</span>
</span></span><span style="display:flex;"><span>    template<span style="color:#f92672">.</span>signature <span style="color:#f92672">=</span> <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\x45\x89\x34\x24\x4c\x8b\xff\x8b\xf3\x45\x85\xc0\x74</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>    template<span style="color:#f92672">.</span>first_entry_offset <span style="color:#f92672">=</span> <span style="color:#ae81ff">24</span>
</span></span><span style="display:flex;"><span>    template<span style="color:#f92672">.</span>offset2 <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>
</span></span></code></pre></div><p>Il n&rsquo;est pas possible de connaître le nombre exact de LogonSessions présentes en mémoire, nous devons donc d&rsquo;abord récupérer le compteur.</p>
<h4 id="compteur-de-logonsessions-et-adresses">Compteur de LogonSessions et adresses</h4>
<p>Avec une approche</p>
<p>similaire à celle utilisée pour extraire l&rsquo;IV et les clés, nous devons trouver le motif en mémoire, puis utiliser les décalages pour extraire le compteur.</p>
<p>Ce compteur nous permet de parcourir toutes les adresses de LogonSessions, où chaque entrée se trouve 16 octets après la précédente.</p>
<!-- raw HTML omitted -->
<p>En convertissant ces adresses en un char*, elles deviennent un pointeur qui pointe vers l&rsquo;emplacement en mémoire où les entrées LogonSessions sont stockées. Cela permet d&rsquo;accéder aux données associées à la LogonSession, permettant de récupérer des informations pertinentes.</p>
<h4 id="nom-dutilisateur-et-domaine">Nom d&rsquo;utilisateur et domaine</h4>
<p>Maintenant que nous avons les adresses des LogonSessions, nous pouvons commencer à extraire les informations. En sautant de 144 octets à partir de l&rsquo;adresse, plusieurs champs sont présents, y compris la longueur du nom d&rsquo;utilisateur, la longueur maximale et un pointeur vers le nom d&rsquo;utilisateur réel.
La même logique s&rsquo;applique au domaine, qui est stocké en mémoire après le pointeur vers le nom d&rsquo;utilisateur.</p>
<p>Il est maintenant possible d&rsquo;extraire le nom d&rsquo;utilisateur et le domaine de l&rsquo;utilisateur en suivant les pointeurs et en lisant en mémoire le nombre exact d&rsquo;octets stockés dans le champ de longueur maximale.</p>
<!-- raw HTML omitted -->
<h4 id="liste-des-identifiants">Liste des identifiants</h4>
<p>Pour la dernière partie de l&rsquo;extraction, nous devons nous concentrer sur les listes d&rsquo;identifiants. À partir du pointeurToDomain vu dans la section précédente, en avançant de 96 octets, l&rsquo;adresse mémoire où se trouve la première &lsquo;Liste des identifiants&rsquo; peut être trouvée. Une fois la valeur à l&rsquo;adresse pointée lue en tant qu&rsquo;uint64_t et interprétée comme une adresse mémoire, elle fournira l&rsquo;adresse mémoire où se trouve la deuxième &lsquo;Liste des identifiants&rsquo;, et ce processus se poursuit de manière itérative. Étant donné qu&rsquo;il s&rsquo;agit d&rsquo;une liste chaînée circulaire, lorsque la valeur correspond à l&rsquo;adresse mémoire de la première structure, cela indique que toute la liste a été parcourue.</p>
<p>Chaque entrée de la liste chaînée &lsquo;Liste des identifiants&rsquo; contient sa propre liste chaînée associée, appelée &lsquo;Liste d&rsquo;identifiants primaires&rsquo;. Pour récupérer l&rsquo;adresse de la première entrée de cette liste chaînée, il est nécessaire d&rsquo;avancer de 16 octets et de lire cette zone mémoire comme un pointeur char.</p>
<p>Le schéma suivant illustre la structure des listes :
<!-- raw HTML omitted --></p>
<p>Dans cette structure finale, le hash NTLM chiffré peut être trouvé. Tout comme la liste chaînée &lsquo;Liste des identifiants&rsquo;, interpréter le nombre à l&rsquo;adresse de la première entrée de la Liste primaire comme une adresse conduit à la découverte de la structure suivante, en suivant une liste circulaire. En suivant la structure, il est possible de récupérer la taille du NTLM chiffré et l&rsquo;adresse mémoire où ce NTLM est situé, permettant sa lecture et son extraction ultérieures.</p>
<h2 id="décryptage-ntlm">Décryptage NTLM</h2>
<p>L&rsquo;algorithme de cryptage utilisé pour chiffrer le hash ne peut pas être déterminé à l&rsquo;avance. Pour identifier l&rsquo;algorithme, le NTLM chiffré est divisé par 8 et son reste est vérifié pour voir si la longueur du NTLM est divisible par 8. Si la longueur du NTLM est divisible par 8, le cryptage AES est utilisé. Si la longueur du NTLM n&rsquo;est pas divisible par 8, indiquant une longueur irrégulière, le cryptage 3DES est utilisé.</p>
<p>Le pseudocode suivant représente la logique de sélection de l&rsquo;algorithme :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> ( encryptedNTLMLength <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span> <span style="color:#75715e">// L&#39;identifiant chiffré était vide ?
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span> <span style="color:#75715e">// Préparer les fonctions d&#39;algorithme et l&#39;IV
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> <span style="color:#66d9ef">if</span> ( encryptedNTLMLength <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Effectuer le décryptage AES en utilisant la clé fournie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Effectuer le décryptage 3DES en utilisant la clé fournie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Une fois que l&rsquo;algorithme utilisé a été identifié, la tâche restante consiste à appliquer les informations acquises en utilisant la bibliothèque bcrypt.h, en suivant la même approche que MSV. En configurant les variables nécessaires pour utiliser le bon algorithme et en invoquant ensuite la fonction BCrypt-Decrypt avec la clé chiffrée et l&rsquo;IV récupéré, il devient possible de récupérer le hash NTLM en texte clair.</p>

                                            </div>
                                        </div>
                                        <ul class="blog-tags"> 
                                            
                                            
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <div class="preloader preloader-alt no-split">
        <span class="spinner spinner-alt">
            <img class="spinner-brand" src="/images/logo-white.png" alt=""> 
        </span>
    </div>
    





<script defer  src='/js/jquery.bundle.min.5982afc908c46b2144b576a651c29adc72bf2dfa9685a00c7dd16b77aba777a4d1c66ba9fe480a81bc42cc40879d8d16d3660e1ff7e0b6e9ca1f4b78d11ebbab.js?ver=210'></script>
<script defer  src='/js/scripts.min.810c4e3229f07102e6da786e19bada1559816724bfcb53aaffc206384b0935134d42df8a0048ea62bbe01e23993b85f12897baf4e45862d5e767c65a878cbd61.js?ver=210'></script>
<script defer  src='/js/charts.min.233bec70385379d36087ce327911a0880e9f24394a47f3ac96262f2ab5ec6e6abcd23516c1250b6b9686a39298686089a91247237a53dfcdc082554f810b8cad.js?ver=210'></script>
<script defer  src='/js/toastr.examples.min.8db0f69b90e47bd433705b43acc2ffcc16aeaa78f06edd02fdc97e67abad460d09fe0135f2e92bc5b30ad986d87467ca3e33d470592d4c1d181554fdd8791fc6.js?ver=210'></script>
<section id="footer">
    <footer class="nk-footer bg-theme-dark">
        <div class="tc-light">
            <div class="container">
                <div class="nk-block">
                    <div class="bg-theme-accent-alt round subscribe-wrap animated" data-animate="fadeInUp" data-delay=".1">
                        <div class="row text-center text-md-start justify-content-center align-items-center gutter-vr-25px">
                            <div class="col-lg-6">
                                <div class="wide-auto-sm">
                                    <h4 class="title-sm">Ne manquez rien, restez informé</h4>
                                    <p>Inscrivez-vous aux mises à jour et aux nouvelles du marché. Abonnez-vous à notre newsletter et recevez des mises à jour sur TeamFence.</p>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="gap-3x d-none d-lg-block"></div>
                                <form action="https://formspree.io/f/meojgrqj" class="nk-form-submit" method="post">
                                    <div class="field-inline field-inline-s2 field-inline-s2-sm bg-white shadow-soft">
                                        <div class="field-wrap">
                                            <input class="input-solid input-solid-md required email" type="email" name="email" placeholder="Your email" required>
                                            <input type="text" class="d-none" name="_gotcha" style="display:none">
                                        </div>
                                        <div class="submit-wrap">
                                            <button type="submit" class="btn btn-md btn-grad">S&#39;abonner</button>
                                        </div>
                                    </div>
                                    <div class="form-results" id="form-results" style="display: none;"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="space-to-color-2" class="nk-ovm ovm-top ovm-h-50 bg-theme-alt"></div>
        </div>
        <div class="section section-footer section-m tc-light bg-transparent ov-h">
            <div class="container">
                <div class="nk-block block-footer">
                    <div class="row">
                        <div class="col">
                            <div class="wgs wgs-text text-center mb-3">
                                <ul class="social pdb-l justify-content-center">
                                    <li><a href="#"><em class="social-icon fab fa-facebook-f"></em></a></li>
                                    <li><a href="#"><em class="social-icon fab fa-twitter"></em></a></li>
                                    <li><a href="#"><em class="social-icon fab fa-youtube"></em></a></li>
                                    <li><a href="#"><em class="social-icon fab fa-github"></em></a></li>
                                    <li><a href="#"><em class="social-icon fab fa-bitcoin"></em></a></li>
                                    <li><a href="#"><em class="social-icon fab fa-medium-m"></em></a></li>
                                </ul>
                                <a href="./" class="footer-logo">
                                    <img src="/images/logo-white.png" srcset="/images/logo-white.png" alt="logo" style="width: 25%">
                                </a>
                                <div class="copyright-text copyright-text-s3 pdt-m">
                                    <p><span class="d-sm-block">Copyright © 2024, TeamFence sagl CHE-197.469.909<br>Viale Castagnola 27, 6900 Lugano</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="nk-ovm shape-s"></div>
        </div>
    </footer>
</section>
<script>
    function changeColorBasedOnURL() {
        var spaceToColor = document.getElementById('space-to-color-2');
        var currentURL = window.location.href;
    
        if (currentURL.includes("/services")) 
            spaceToColor.id = "space-to-color";
        else if (currentURL.includes("/about"))
            spaceToColor.id = "space-to-color";
        else if (currentURL.includes("/team"))
            spaceToColor.id = "space-to-color";
        else if (currentURL.includes("/ctem-details"))
            spaceToColor.id = "space-to-color";
        else if (currentURL.match(/\/posts\/[a-zA-Z0-9_-]+/)) 
            spaceToColor.id = "space-to-color";
    }
    
    window.onload = changeColorBasedOnURL;
    </script>
    </div>
</body>
</html>